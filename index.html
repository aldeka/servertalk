<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=1024, user-scalable=no">

  <title>Turn Your Computer Into a Server</title>

  <link href='http://fonts.googleapis.com/css?family=Merriweather+Sans:400,700,400italic' rel='stylesheet' type='text/css'>

  <!-- Required stylesheet -->
  <link rel="stylesheet" media="screen" href="core/deck.core.css">

  <!-- Extension CSS files go here. Remove or add as needed. -->
  <link rel="stylesheet" media="screen" href="extensions/goto/deck.goto.css">
  <link rel="stylesheet" media="screen" href="extensions/menu/deck.menu.css">
  <!--   <link rel="stylesheet" media="screen" href="extensions/navigation/deck.navigation.css"> -->
  <link rel="stylesheet" media="screen" href="extensions/status/deck.status.css">
  <link rel="stylesheet" media="screen" href="extensions/scale/deck.scale.css">

  <!-- Style theme. More available in /themes/style/ or create your own. -->
  <link rel="stylesheet" media="screen" href="themes/style/my_swiss.css">

  <!-- Transition theme. More available in /themes/transition/ or create your own. -->
  <link rel="stylesheet" media="screen" href="themes/transition/horizontal-slide.css">

  <!-- Basic black and white print styles -->
  <link rel="stylesheet" media="print" href="core/print.css">

  <!-- Required Modernizr file -->
  <script src="modernizr.custom.js"></script>
</head>
<body>
  <div class="deck-container">

    <!-- Begin slides. Just make elements with a class of slide. -->

    <section class="slide">
      <div class="vcenter">
        <h1>Turn Your Computer Into a Server</h1>
        <h4>Karen Rustad &amp; Asheesh Laroia</h4>
        <h4>PyCon 2014 &#8226; Montr√©al, QC</h4>
      </div>
    </section>

    <section class="slide">
        <h2>Takeaways</h2>
        <ul>
          <li class="slide">You can understand basic networking.</li>
          <li class="slide">If you're online, you can run a server.</li>
          <li class="slide">You can do it reasonably safely, too!</li>
        </ul>
    </section>

    <section class="slide">
        <h2>Outline, part one: Simple sharing</h2>
        <ul>
          <li>Python's SimpleHTTPServer</li>
          <li>Ports and interfaces</li>
          <li>IP addresses and NAT</li>
          <li>SSH [and other] tunneling</li>
          <li>The beautiful dream of IPv6</li>
        </ul>
    </section>

    <section class="slide">
        <h2>Outline, part two: Home servers</h2>
        <ul>
          <li>Why and how to run a home server</li>
          <li>Bandwidth and other limits</li>
          <li>Security issues</li>
          <li>Follow-up resources and Q&A</li>
        </ul>
    </section>

    <section class="slide">
      <div class="vcenter">
        <h2>Scenario</h2>
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        <img class="chibi" src="img/me.png">
        <h3>Building a web app</h3>
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        <code>$ python manage.py runserver 8000</code>
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        <img class="chibi" src="img/me.png">
        <code>http://localhost:8000</code><br>
        <br>
        <img src="img/itworks.png">
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        <img class="chibi" src="img/you.png">
        <code>http://localhost:8000</code>
        <br><br>
        <img src="img/404.png">
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        <img class="chibi" src="img/you.png">
        <code>http://mycomputer:8000</code>
        <br><br>
        <img src="img/404.png">
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        Why doesn't this work?
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        <h2>Basic local sharing</h2>
      </div>
    </section>

    <section class="slide">
      <div class="vcenter leftie">
        <code>
          $ cd my_project_directory<br>
          $ python -m SimpleHTTPServer<br>
        </code>
        <code>
          Serving HTTP on 0.0.0.0 port 8000 ...
        </code>
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        <img class="chibi" src="img/me.png">
        <code>http://mycomputer:8000</code>
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        (handy for viewing and showing off<br>HTML/CSS/JS projects)
      </div>
    </section>

    <section class="slide">
      <div class="vcenter leftie">
        <code>
          $ cd my_project_directory<br>
          $ python -m SimpleHTTPServer<br>
        </code>
        <code>
          Serving HTTP on 0.0.0.0 port 8000 ...
        </code>
      </div>
    </section>

    <section class="slide">
      <div class="vcenter leftie">
        <code>
          Serving HTTP on <span class="highlight">0.0.0.0</span> port 8000 ...
        </code>
      </div>
    </section>

    <section class="slide">
      <div class="vcenter leftie">
        <span class="smaller">
        <code>
          $ python manage.py runserver 8000<br>
          Validating models...<br>
          <br>
          0 errors found<br>
          March 07, 2014 - 23:37:49<br>
          Django version 1.5.4, using settings 'myapp.settings'<br>
          Development server is running at <span class="highlight">http://127.0.0.1</span>:8000/<br>
          Quit the server with CONTROL-C.</span>
        </code>
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        <img class="chibi" src="img/me.png">
        <code>
          $ python manage.py runserver <span class="highlight">0.0.0.0:8000</span>
        </code>
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        <img class="chibi" src="img/you.png">
        <code>http://mycomputer:8000</code>
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        :)
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        Why did that work?
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        <h2>Ports and Interfaces</h2>
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        Ports
      </div>
    </section>

    <section class="slide">
      <img src="img/ports.png">
    </section>

    <section class="slide">
      <div class="vcenter">
        Interfaces
      </div>
    </section>

    <section class="slide">
      <img src="img/interfaces.png">
    </section>

    <section class="slide">
      <div class="vcenter">
        <code>
        $ ifconfig
      </code>
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        <code>
        eth2 [...]<br>
        lo [...]<br>
        wlan1 [...]<br>
      </code>
      </div>
    </section>

    <section class="slide">
      <img src="img/interfaces.png">
    </section>

    <section class="slide">
      <img src="img/failure.png">
    </section>

    <section class="slide">
      <img src="img/success.png">
    </section>

    <section class="slide">
      <div class="vcenter">
        <img src="img/third.png" class="chibi">
        How to share your work with others?
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        <h2>IP addresses</h2>
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        <h3>Private IP addresses</h3>
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        Only work inside a network
      </div>
    </section>

    <section class="slide">
      <img src="img/nat0.png">
    </section>

    <section class="slide">
      <div class="vcenter">
        Private IPv4 Blocks
        <ul class="no-bullets">
        <li class="slide">192.168.x.x</li>
        <li class="slide">172.[16 through 31].x.x</li>
        <li class="slide">10.x.x.x</li>
        </ul>
      </div>
    </section>

    <section class="slide">
      <div class="vcenter leftie">
        <code>
        $ python -m SimpleHTTPServer<br>
Serving HTTP on 0.0.0.0 port 8000 ...
</code>
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        <code>
        http://<span class="highlight">localhost</span>:8000
      </code>
      </div>
    </section>

    <section class="slide">
      <div class="vcenter leftie">
        <code>
        $ python -m SimpleHTTPServer<br>
Serving HTTP on 0.0.0.0 port 8000 ...<br>
<span class="highlight">127.0.0.1</span> - - [11/Mar/2014 12:49:47] "GET / HTTP/1.1" 200 -<br>
127.0.0.1 - - [11/Mar/2014 12:49:47] code 404, message File not found<br>
127.0.0.1 - - [11/Mar/2014 12:49:47] "GET /favicon.ico HTTP/1.1" 404 -
</code>
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        <code>
        http://<span class="highlight">mycomputer</span>:8000
      </code>
      </div>
    </section>

    <section class="slide">
      <div class="vcenter leftie">
        <code>
        <span class="highlight">172.27.0.14</span> - - [11/Mar/2014 12:51:33] "GET / HTTP/1.1" 200 -<br>
        172.27.0.14 - - [11/Mar/2014 12:51:33] code 404, message File not found<br>
        172.27.0.14 - - [11/Mar/2014 12:51:33] "GET /favicon.ico HTTP/1.1" 404 -
        </code>
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        <h3>Public IP addresses</h3>
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        Every website you look at has (at least) one
      </div>
    </section>

    <section class="slide">
      <div class="vcenter leftie">
        <code>
        $ ping google.com<br>
PING google.com (<span class="highlight">74.125.239.37</span>) 56(84) bytes of data.<br>
^C<br>
--- google.com ping statistics ---<br>
4 packets transmitted, 4 received, 0% packet loss, time 3003ms<br>
rtt min/avg/max/mdev = 17.057/23.049/30.371/6.035 ms
</code>
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        Domain Name System (DNS) lookups
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        <img src="img/dns1.png">
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        <img src="img/dns2.png">
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        <img src="img/dns3.png">
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        <img src="img/dns4.png">
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        http://74.125.239.37
      </div>
    </section>

    <section class="slide">
      <div class="vcenter"><img src="img/google.png"></div>
    </section>

    <section class="slide">
      <div class="vcenter">
        Your computer (almost certainly) doesn't have a public IP address :(
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        How does my computer talk to the Internet if it isn't globally addressable?
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        <h2>Network Address Translation<br>(NAT)</h2>
      </div>
    </section>

    <section class="slide">
      <img src="img/nat0.png">
    </section>

    <section class="slide">
      <div class="vcenter">
        Need to keep track of whose traffic is whose
      </div>
    </section>

    <section class="slide">
      <img src="img/nat1.png">
    </section>

    <section class="slide">
      <img src="img/nat2.png">
    </section>

    <section class="slide">
      <img src="img/nat3.png">
    </section>

    <section class="slide">
      <img src="img/nat4.png">
    </section>

    <section class="slide">
      <img src="img/nat5.png">
    </section>

    <section class="slide">
      <img src="img/nat6.png">
    </section>

    <section class="slide">
      <img src="img/nat7.png">
    </section>

    <section class="slide">
      <div class="vcenter">
        NAT lets multiple devices connect over one public IP address :)
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        <img src="img/third.png" class="chibi">
        Gets in the way of sharing outside your network :(
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        <img src="img/third.png" class="chibi">
        How can we get around this?
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        <h2>SSH tunneling</h2>
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        Port forwarding
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        <img src="img/tomato.png">
      </div>
    </section>

    <section class="slide">
        <img src="img/routerforwarding1.png">
    </section>

    <section class="slide">
        <img src="img/routerforwarding2.png">
    </section>

    <section class="slide">
      <div class="vcenter">
        Remote port forwarding using SSH
      </div>
    </section>

    <section class="slide">
      <h3>Get access to a computer with a public IP address</h3>
      <ul>
        <li class="slide">University server account</li>
        <li class="slide">Linode</li>
        <li class="slide">Amazon EC2</li>
        <li class="slide">A friend with a server</li>
      </ul>
    </section>

    <section class="slide">
        <img src="img/ssh1.png">
    </section>

    <section class="slide">
        <img src="img/ssh2.png">
    </section>

    <section class="slide">
        <img src="img/ssh3.png">
    </section>

    <section class="slide">
      <div class="vcenter">
        <code>
          $ ssh -g -R 9999:localhost:8000 server.net
        </code>
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        <code>
          $ ssh -g <span class="highlight">-R</span> 9999:localhost:8000 server.net
        </code>
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        <code>
          $ ssh <span class="highlight">-g</span> -R 9999:localhost:8000 server.net
        </code>
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        <code>
          $ ssh -g -R <span class="highlight">9999</span>:localhost:8000 server.net
        </code>
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        <code>
          $ ssh -g -R 9999:<span class="highlight">localhost:8000</span> server.net
        </code>
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        <code>
          $ ssh -g -R 9999:localhost:8000 <span class="highlight">server.net</span>
        </code>
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        <img src="img/third.png" class="chibi">
        http://server.net:9999
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        Tunneling is directional
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        But what if I have no money and no friends?
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        (and no ssh access)
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        <h3>(oh noes pagekite doesn't work on Heroku, what do we do now)</h3>
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        (demo)
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        <h2>The beautiful dream of IPv6</h2>
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        IP addresses
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        <strong>IPv4:</strong> 32 bits, looks like
        <br><code>74.125.239.37</code><br><br>
        <strong>IPv6:</strong> 128 bits, looks like 
        <br><code>2001:0db8:85a3:0042:1000:8a2e:0370:7334</code>
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        No longer need NAT
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        A public address for every device, just like the olden days of the Internet!
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        Adoption :(
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        (miredo)
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        <h2>Running an always-up** server at home</h2>
      </div>
    </section>

    <section class="slide">
        <img src="img/downtimeabbey.png">
    </section>

    <section class="slide">
      <div class="vcenter">
        What is a home server good for?
      </div>
    </section>

    <section class="slide">
      <ul>
        <li class="slide">Email</li>
        <li class="slide">Your own web services, e.g.:
          <ul>
            <li class="slide">Etherpad for notes</li>
            <li class="slide">MediaGoblin for photos</li>
            <li class="slide">Zeya for music</li>
          </ul>
        </li>
        <li class="slide">Home automation!</li>
        <li class="slide">Running your awesome Django app *all the time*</li>
        <li class="slide">&c.</li>
      </ul>
    </section>

    <section class="slide">
      <div class="vcenter">
        (lamson demo)
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        (asheesh writes some more slides here)
      </div>
    </section>

     <section class="slide">
      <div class="vcenter">
        <h2>Knowing your limits</h2>
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        <h3>Bandwidth</h3>
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        Server usage will compete with your other internet use
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        "Buffer bloat"
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        Some router tweaks can mitigate this; ask Asheesh for more info
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        <h2>Max connections</h2>
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        Your server can (probably) handle the load
        (benchmark)
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        Your home router can't
        (benchmark)
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        NAT table can fill up after 100-250 connections/min
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        :(
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        (this is why sometimes you have to reboot your router after your roommate uses Bittorrent)
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        <h3>ISP rules</h3>
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        <h3>Firewalls</h3>
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        Filter some ports prior to your router (e.g. port 25)
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        <h2>Risks of being a server</h2>
      </div>
    </section>

    <section class="slide">
        Things at risk when running an app on someone else's server
        <ul>
          <li class="slide">Disclosure or compromise of users' data</li>
          <li class="slide">App could stop working properly</li>
        </ul>
    </section>

    <section class="slide">
        New things at risk with a home server
        <ul>
          <li class="slide">Anything on the computer running it
          </li>
          <li class="slide">Ability to appear to be inside your home network
            <ul>
              <li>Access to anything available locally (without other authentication)</li>
            </ul>
          </li>
        </ul>
    </section>

    <section class="slide">
      <div class="vcenter">
        <h3>Mitigating risks to your home server</h3>
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        Isolate your server in a separate user account or machine
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        Network isolation ("DMZ")
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        Improve your app's security
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        Read the Open Web Application Security Project's Top 10 vulnerabilities list
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        (this is smart even if you host your app on e.g. Heroku)
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        "It'll probably be fine"
      </div>
    </section>

    <section class="slide">
      <h2>Further reading</h2>
    </section>

    <section class="slide">
      <div class="vcenter">
        <h1>Thanks!</h1>
        <h4>Karen Rustad &#8226; Asheesh Laroia</h4>
        <h4>@whoisaldeka &#8226; @asheeshlaroia</h4>
        <h4>aldeka@aldeka.net &#8226; asheesh@asheesh.org</h4>
      </div>
    </section>

    <!-- End slides. -->

    <!-- Begin extension snippets. Add or remove as needed. -->

    <!-- deck.navigation snippet 
    <div aria-role="navigation">
      <a href="#" class="deck-prev-link" title="Previous">&#8592;</a>
      <a href="#" class="deck-next-link" title="Next">&#8594;</a>
    </div>

    <!-- deck.status snippet 
    <p class="deck-status" aria-role="status">
      <span class="deck-status-current"></span>
      /
      <span class="deck-status-total"></span>
    </p>

    <!-- deck.goto snippet 
    <form action="." method="get" class="goto-form">
      <label for="goto-slide">Go to slide:</label>
      <input type="text" name="slidenum" id="goto-slide" list="goto-datalist">
      <datalist id="goto-datalist"></datalist>
      <input type="submit" value="Go">
    </form>

    <!-- End extension snippets. -->
  </div>

<!-- Required JS files. -->
<script src="jquery.min.js"></script>
<script src="core/deck.core.js"></script>

<!-- Extension JS files. Add or remove as needed. -->
<script src="extensions/menu/deck.menu.js"></script>
<script src="extensions/goto/deck.goto.js"></script>
<script src="extensions/status/deck.status.js"></script>
<!-- <script src="extensions/navigation/deck.navigation.js"></script> -->
<script src="extensions/scale/deck.scale.js"></script>

<!-- Initialize the deck. You can put this in an external file if desired. -->
<script>
  $(function() {
    $.deck('.slide');
  });
</script>
</body>
</html>
