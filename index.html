<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=1024, user-scalable=no">

  <title>Turn Your Computer Into a Server</title>

  <link href='http://fonts.googleapis.com/css?family=Merriweather+Sans:400,700,400italic' rel='stylesheet' type='text/css'>

  <!-- Required stylesheet -->
  <link rel="stylesheet" media="screen" href="core/deck.core.css">

  <!-- Extension CSS files go here. Remove or add as needed. -->
  <link rel="stylesheet" media="screen" href="extensions/goto/deck.goto.css">
  <link rel="stylesheet" media="screen" href="extensions/menu/deck.menu.css">
  <!--   <link rel="stylesheet" media="screen" href="extensions/navigation/deck.navigation.css"> -->
  <link rel="stylesheet" media="screen" href="extensions/status/deck.status.css">
  <link rel="stylesheet" media="screen" href="extensions/scale/deck.scale.css">

  <!-- Style theme. More available in /themes/style/ or create your own. -->
  <link rel="stylesheet" media="screen" href="themes/style/my_swiss.css">

  <!-- Transition theme. More available in /themes/transition/ or create your own. -->
  <link rel="stylesheet" media="screen" href="themes/transition/horizontal-slide.css">

  <!-- Basic black and white print styles -->
  <link rel="stylesheet" media="print" href="core/print.css">

  <!-- Required Modernizr file -->
  <script src="modernizr.custom.js"></script>
</head>
<body>
  <div class="deck-container">

    <!-- Begin slides. Just make elements with a class of slide. -->

    <section class="slide">
      <div class="vcenter">
        <h1>Turn Your Computer Into a Server</h1>
        <h4>Karen Rustad &amp; Asheesh Laroia</h4>
        <h4>PyCon 2014 &#8226; Montr√©al, QC</h4>
      </div>
    </section>

    <section class="slide">
        <h2>Takeaways</h2>
        <ul>
          <li class="slide">You can understand basic networking.</li>
          <li class="slide">If you're online, you can run a server.</li>
          <li class="slide">You can do it reasonably safely, too!</li>
        </ul>
    </section>

    <section class="slide">
        <h2>Outline, part one: Simple sharing</h2>
        <ul>
          <li>Python's SimpleHTTPServer</li>
          <li>Ports and interfaces</li>
          <li>IP addresses and NAT</li>
          <li>SSH [and other] tunneling</li>
          <li>The beautiful dream of IPv6</li>
        </ul>
    </section>

    <section class="slide">
        <h2>Outline, part two: Home servers</h2>
        <ul>
          <li>Why and how to run a home server</li>
          <li>Bandwidth and other limits</li>
          <li>Security issues</li>
          <li>Follow-up resources and Q&A</li>
        </ul>
    </section>

    <section class="slide">
      <div class="vcenter">
        <h2>Scenario</h2>
<div class="notes">OK</div>
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        <img class="chibi" src="img/me.png">
        <h3>Building a web app</h3>
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        <code>$ python manage.py runserver 8000</code>
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        <img class="chibi" src="img/me.png">
        <code>http://localhost:8000</code><br>
        <br>
        <img class="slide" src="img/itworks.png">
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        <img class="chibi" src="img/you.png">
        <code>http://localhost:8000</code>
        <br><br>
        <img class="slide" src="img/404.png">
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        <img class="chibi" src="img/you.png">
        <code>http://mycomputer.local:8000</code>
        <br><br>
        <img class="slide" src="img/404.png">
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        <h2>Basic local sharing</h2>
      </div>
    </section>

    <section class="slide">
      <div class="vcenter leftie">
        <code>
          $ cd my_project_directory<br>
          $ python -m SimpleHTTPServer<br>
        </code>
        <code>
          Serving HTTP on 0.0.0.0 port 8000
        </code>
        <br><br>
        <div class="slide">
        <img class="chibi" src="img/me.png">
        <code>http://mycomputer.local:8000</code>
        </div>
      </div>
    </section>

    <section class="slide">
      <div class="vcenter leftie pale">
        <code>
          $ cd my_project_directory<br>
          $ python -m SimpleHTTPServer<br>
        </code>
        <code>
          Serving HTTP on <span class="highlight">0.0.0.0</span> port 8000
        </code>
        <br><br>
        <div class="">
        <img class="chibi" src="img/me.png">
        <code>http://mycomputer.local:8000</code>
        </div>
      </div>
    </section>

    <section class="slide">
      <div class="vcenter leftie">
        <span class="smaller">
        <code>
          $ python manage.py runserver 8000<br>
        </code>
        <br>
        <div class="slide">
          <code>
            Validating models...<br>
            <br>
            0 errors found<br>
            March 07, 2014 - 23:37:49<br>
            Django version 1.5.4, using settings 'myapp.settings'<br>
            Development server is running at http://127.0.0.1:8000/<br>
            Quit the server with CONTROL-C.
          </code>
        </div>
        </span>
      </div>
    </section>

    <section class="slide">
      <div class="vcenter leftie pale">
        <span class="smaller">
        <code>
          $ python manage.py runserver 8000<br>
        </code>
        <br>
        <div class="">
          <code>
            Validating models...<br>
            <br>
            0 errors found<br>
            March 07, 2014 - 23:37:49<br>
            Django version 1.5.4, using settings 'myapp.settings'<br>
            Development server is running at http://<span class="highlight">127.0.0.1</span>:8000/<br>
            Quit the server with CONTROL-C.
          </code>
        </div>
        </span>
      </div>
    </section>

    <section class="slide">
      <div class="vcenter leftie">
        <span class="smaller">
        <code>
          $ python manage.py runserver <span class="highlight">0.0.0.0:8000</span><br>
        </code>
        <br>
        <div class="">
          <code>
            Validating models...<br>
            <br>
            0 errors found<br>
            March 07, 2014 - 23:37:49<br>
            Django version 1.5.4, using settings 'myapp.settings'<br>
            Development server is running at http://<span class="highlight">0.0.0.0:8000</span>/<br>
            Quit the server with CONTROL-C.
          </code>
        </div>
        </span>
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        <img class="chibi" src="img/you.png">
        <code>http://mycomputer.local:8000</code>
        <br><br>
        <img class="slide" src="img/itworks.png">
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        <h2>Ports and Interfaces</h2>
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        <h2>Ports <span class="pale">and Interfaces</span></h2>
      </div>
    </section>

    <section class="slide">
      <img src="img/ports0.png">
    </section>

    <section class="slide">
      <img src="img/ports1.png">
    </section>

    <section class="slide">
      <img src="img/ports2.png">
    </section>

    <section class="slide">
      <img src="img/interfaces.png">
    </section>

    <section class="slide">
      <img src="img/failure.png">
    </section>

    <section class="slide">
      <img src="img/success.png">
    </section>

    <section class="slide">
      <div class="vcenter">
        <img src="img/third.png" class="chibi">
        How to share your work with others?
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        <h2>IP addresses</h2>
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        <h3>Private IP addresses</h3>
      </div>
    </section>

    <section class="slide">
      <img src="img/nat0.png">
    </section>

    <section class="slide">
      <div class="vcenter leftie">
        Private IPv4 Blocks
        <ul class="no-bullets">
        <li class="slide">192.168.x.x</li>
        <li class="slide">172.[16 through 31].x.x</li>
        <li class="slide">10.x.x.x</li>
        </ul>
      </div>
    </section>

    <section class="slide">
      <div class="vcenter leftie">
        <code class="goaway">
        http://<span class="highlight">mycomputer.local</span>:8000
      </code><br><br>
        <code>
        $ python -m SimpleHTTPServer<br>
<span class="goaway">Serving HTTP on 0.0.0.0 port 8000 ...<br>
<span class="highlight">127.27.0.14</span> - - [11/Mar/2014 12:51:33] "GET / HTTP/1.1" 200 -</span>
</code>
      </div>
    </section>

    <section class="slide">
      <div class="vcenter leftie">
        <code>
        http://<span class="highlight">localhost</span>:8000
      </code><br><br>
        <code>
        $ python -m SimpleHTTPServer<br>
        <div class="slide">Serving HTTP on 0.0.0.0 port 8000 ...<br>
<span class="highlight">127.0.0.1</span> - - [11/Mar/2014 12:49:47] "GET / HTTP/1.1" 200 -</div>
</code>
      </div>
    </section>

    <section class="slide">
      <div class="vcenter leftie">
        <code>
        http://<span class="highlight">mycomputer.local</span>:8000
      </code><br><br>
        <code>
        $ python -m SimpleHTTPServer<br>
Serving HTTP on 0.0.0.0 port 8000 ...<br>
<span class="highlight">127.27.0.14</span> - - [11/Mar/2014 12:51:33] "GET / HTTP/1.1" 200 -
</code>
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        <h3>Public IP addresses</h3>
      </div>
    </section>

    <section class="slide">
      <div class="vcenter leftie">
        <code class="smaller">
        $ host google.com<br>
<div class="slide">google.com has address <span class="highlight">74.125.239.37</span></div>
</code>
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        Domain Name System (DNS) lookups
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        <img src="img/dns1.png">
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        <img src="img/dns2.png">
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        <img src="img/dns3.png">
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        <img src="img/dns4.png">
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        <br>
        http://74.125.239.37
        <div class="slide"><img src="img/google.png"></div>
    </div>
    </section>

    <section class="slide">
      <div class="vcenter">
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        <h2>Network Address Translation<br>(NAT)</h2>
      </div>
    </section>

    <section class="slide">
      <img src="img/nat0.png">
    </section>

    <section class="slide">
      <img src="img/nat-router.png">
    </section>

    <section class="slide">
      <img src="img/nat1.png">
    </section>

    <section class="slide">
      <img src="img/nat2.png">
    </section>

    <section class="slide">
      <img src="img/nat3.png">
    </section>

    <section class="slide">
      <img src="img/nat4.png">
    </section>

    <section class="slide">
      <img src="img/nat5.png">
    </section>

    <section class="slide">
      <img src="img/nat6.png">
    </section>

    <section class="slide">
      <img src="img/nat7.png">
    </section>

    <section class="slide">
      <img src="img/nat0.png">
    </section>

    <section class="slide">
      <img src="img/nat-sucks.png">
    </section>

    <section class="slide">
      <div class="vcenter">
        <img src="img/third.png" class="chibi">
        How can we get around this?
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        <h2>SSH tunneling</h2>
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        Remote port forwarding using SSH
      </div>
    </section>

    <section class="slide">
      <h3>Get access to a computer with a public IP address</h3>
      <ul>
        <li class="slide">University server account</li>
        <li class="slide">Linode</li>
        <li class="slide">Amazon EC2</li>
        <li class="slide">A friend with a server</li>
      </ul>
    </section>

    <section class="slide">
        <img src="img/ssh1.png">
    </section>

    <section class="slide">
        <img src="img/ssh2.png">
    </section>

    <section class="slide">
        <img src="img/ssh3.png">
    </section>

    <section class="slide">
      <div class="vcenter">
        <code>
          $ ssh -g -R 9999:localhost:8000 myfriendsserver.net
        </code>
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        <code>
          $ ssh -g <span class="highlight">-R</span> 9999:localhost:8000 myfriendsserver.net
        </code>
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        <code>
          $ ssh <span class="highlight">-g</span> -R 9999:localhost:8000 myfriendsserver.net
        </code>
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        <code>
          $ ssh -g -R <span class="highlight">9999</span>:localhost:8000 myfriendsserver.net
        </code>
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        <code>
          $ ssh -g -R 9999:<span class="highlight">localhost:8000</span> myfriendsserver.net
        </code>
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        <code>
          $ ssh -g -R 9999:localhost:8000 <span class="highlight">myfriendsserver.net</span>
        </code>
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        <img src="img/third.png" class="chibi">
        http://myfriendsserver.net:9999
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        ngrok.com
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        (demo)
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        (vint cerf quote)
        <br>
        <div class="slide"><h2>The beautiful dream of IPv6</h2></div>
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        <strong>IPv4:</strong> 32 bits, looks like
        <br><code>74.125.239.37</code><br><br>
        <strong>IPv6:</strong> 128 bits, looks like 
        <br><code>2001:0db8:85a3:0042:1000:8a2e:0370:7334</code>
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        Adoption :(
        (graph)
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        (miredo)
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        <h2>Running an always-up<span class="goaway">**</span> server at home</h2>
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        <h2>Running an always-up** server at home</h2>
      </div>
    </section>

    <section class="slide">
        <img src="img/downtimeabbey.png">
    </section>

    <section class="slide">
      <h3>What is a home server good for?</h3>
      <ul>
        <li class="slide">Email</li>
        <li class="slide">Your own web services, e.g.:
          <ul>
            <li class="slide"><a href="http://etherpad.org/">Etherpad</a> for notes</li>
            <li class="slide"><a href="http://mediagoblin.org/">MediaGoblin</a> for photos</li>
            <li class="slide"><a href="http://www.fomori.org/cherrymusic/">CherryMusic</a> for music</li>
          </ul>
        </li>
        <li class="slide">Home automation!</li>
        <li class="slide">Running your awesome Django app *all the time*</li>
        <li class="slide">&c.</li>
      </ul>
    </section>

    <section class="slide">
      <div class="vcenter">
        (demo)
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        <h3>hello@pycon.no-ip.biz</h3>
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        Home port forwarding
      </div>
    </section>

    <section class="slide">
        <img src="img/routerforwarding0.png">
    </section>

    <section class="slide">
        <img src="img/routerforwarding1.png">
    </section>

    <section class="slide">
        <img src="img/routerforwarding2.png">
    </section>

    <section class="slide">
      <div class="vcenter">
        <img src="img/tomato.png">
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        <h3>Finding your public IP address</h3>
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        Dyndns
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        (let's check our lamson demo)
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
      </div>
    </section>

     <section class="slide">
        <h2>Knowing your limits</h2>
        <ul>
          <li class="slide">Bandwidth</li>
          <li class="slide">"Buffer bloat"</li>
          <li class="slide">Max connections</li>
          <li class="slide">ISP rules</li>
          <li class="slide">ISP firewalls</li>
        </ul>
    </section>

    <section class="slide">
      <div class="vcenter">
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        <h2>Risks of being a server</h2>
      </div>
    </section>

    <section class="slide">
        <h3>Things at risk when running an app on someone else's server</h3>
        <ul>
          <li class="slide">Disclosure or compromise of users' data</li>
          <li class="slide">App could stop working properly</li>
        </ul>
    </section>

    <section class="slide">
        <h3>New things at risk with a home server</h3>
        <ul>
          <li class="slide">Anything on the computer running it
          </li>
          <li class="slide">Ability to appear to be inside your home network
            <ul>
              <li>Access to anything available locally (without other authentication)</li>
            </ul>
          </li>
        </ul>
    </section>

    <section class="slide">
      <div class="vcenter">
        <h3>Mitigating risks to your home server</h3>
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        Isolate your server in a separate user account or machine
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        Network isolation ("DMZ")
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        Improve your app's security
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        Open Web Application Security Project's <a href="https://www.owasp.org/index.php/Top_10_2013-Top_10">Top 10 vulnerabilities list</a>
      </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        "It'll probably be fine"
      </div>
    </section>

    <section class="slide">
        <h2>Takeaways</h2>
        <ul>
          <li class="slide">You can understand basic networking.</li>
          <li class="slide">If you're online, you can run a server.</li>
          <li class="slide">You can do it reasonably safely, too!</li>
        </ul>
    </section>

    <section class="slide">
      <div class="vcenter leftie">
      <h3>Further reading</h3>
      <div style="font-size: .45em;">
      <div class="column">
        <ul>
          <li><a href="http://serverfault.com/questions/78048/whats-the-difference-between-ip-address-0-0-0-0-and-127-0-0-1">More about 0.0.0.0</a></li>
          <li><a href="http://computer.howstuffworks.com/nat.htm">More about NAT</a></li>
          <li><a href="https://tools.ietf.org/html/rfc1918">More about private IP addresses</a></li>
          <li><a href="http://lanyrd.com/2013/pycon/scdyrr/">How the Internet Works" by Jessica McKellar</a>, for more about DNS and IP</li>
          <li><a href="http://portforward.com">Port forwarding details</a> for many home wifi routers</li>
          <li><a href="http://noip.com">noip.com</a>: a reasonable, free of cost for limited use, dynamic DNS service</li>
          <li>Two open source tunnel services:
            <ul><li><a href="https://ngrok.com/">https://ngrok.com/</a> (free for most use, inexpensive for advanced use)</li>
              <li><a href="https://pagekite.net/">https://pagekite.net/</a> (free for open source developers, inexpensive for all)</li>
            </ul></li>
        </ul>
      </div>
      <div class="column another-column">
        <ul>
          <br>
          <li><a href="http://www.princeton.edu/~saha/instant-sharing/">SimpleHTTPServer tutorial</a></li>
          <li><a href="http://stackoverflow.com/questions/5280827/can-someone-explain-ssh-tunnel-in-a-simple-way">Overview of SSH tunneling</a></li>
          <li><a href="http://www.worldipv6launch.org/measurements/">IPv6 metrics on deployment</a></li>
          <li><a href="http://www.remlab.net/miredo/">More about Miredo</a></li>
          <li>Security & scale considerations:
            <ul><li><a href="http://stackoverflow.com/questions/12732182/ab-load-testing">Load testing</a></li>
            <li>Buffer bloat articles: <a href="http://arstechnica.com/tech-policy/2011/01/understanding-bufferbloat-and-the-network-buffer-arms-race/">[1]</a> <a href="http://freecode.com/projects/wshaper">[2]</a></li>
            <li><a href="http://en.wikipedia.org/wiki/DMZ_(computing)">Creating "DMZs"</a></li>
            <li><a href="https://www.owasp.org/index.php/Top_10_2013-Top_10">Open Web Application Security Project's Top 10 vulnerabilities</a></li></ul>
          </li>
        </ul>
      </div>
    </div>
    </div>
    </section>

    <section class="slide">
      <div class="vcenter">
        <h1>Thanks!</h1>
        <h4>Karen Rustad &#8226; Asheesh Laroia</h4>
        <h4>@whoisaldeka &#8226; @asheeshlaroia</h4>
        <h4>aldeka@aldeka.net &#8226; asheesh@asheesh.org</h4>
      </div>
    </section>

    <!-- End slides. -->

    <!-- Begin extension snippets. Add or remove as needed. -->

    <!-- deck.navigation snippet 
    <div aria-role="navigation">
      <a href="#" class="deck-prev-link" title="Previous">&#8592;</a>
      <a href="#" class="deck-next-link" title="Next">&#8594;</a>
    </div>

    <!-- deck.status snippet 
    <p class="deck-status" aria-role="status">
      <span class="deck-status-current"></span>
      /
      <span class="deck-status-total"></span>
    </p>

    <!-- deck.goto snippet 
    <form action="." method="get" class="goto-form">
      <label for="goto-slide">Go to slide:</label>
      <input type="text" name="slidenum" id="goto-slide" list="goto-datalist">
      <datalist id="goto-datalist"></datalist>
      <input type="submit" value="Go">
    </form>

    <!-- End extension snippets. -->
  </div>

<!-- Required JS files. -->
<script src="jquery.min.js"></script>
<script src="core/deck.core.js"></script>

<!-- Extension JS files. Add or remove as needed. -->
<script src="extensions/menu/deck.menu.js"></script>
<script src="extensions/goto/deck.goto.js"></script>
<script src="extensions/status/deck.status.js"></script>
<!-- <script src="extensions/navigation/deck.navigation.js"></script> -->
<script src="extensions/scale/deck.scale.js"></script>
<script src="extensions/clone/deck.clone.js"></script>
        <style type="text/css">
            body.has-clones .deck-container {background: grey;}
            body div.notes { display: none; }
            body.has-clones div.notes { color: green; display: block; }
        </style>

<!-- Initialize the deck. You can put this in an external file if desired. -->
<script>
  $(function() {
    $.deck('.slide');
  });
</script>
</body>
</html>
